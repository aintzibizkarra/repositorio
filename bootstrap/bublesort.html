<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>BubleSort</title>


    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
<!-----ESTILOS CSS----->
    <style>
            header {
                background-color: teal;
                color: #FFF;
            }

            .row {
                margin: 20px 0;
            }

            @keyframes mostrar {
                0% {
                    opacity: 0;
                }
                100% {
                    opacity: 1;
                }
            }

            .box {
                /*display: flex;*/
                display: inline-block;
                width: 75px;
                height: 75px;
                background-color: grey;
                color: #FFF;
                font-size: 3em;
                text-align: center;
                margin-right: 10px;
                position: relative;
            }

            .box .close{
                position: absolute;
                top: 0;
                right: 0;
                color: white;
                background-color: #000;
                font-size: 0.5em;
                border-radius: 50%;
            }

            .box:hover{

              animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both;
              transform: translate3d(0, 0, 0);
              backface-visibility: hidden;
              perspective: 1000px;

            }
            .box:last-child {
                animation-name: mostrar;
                animation-duration: 1.5s;
                animation-timing-function: ease-in;
            }
            @keyframes shake {
                10%, 90% {
                transform: translate3d(-1px, 0, 0);
                }

              20%, 80% {
                transform: translate3d(2px, 0, 0);
              }

              30%, 50%, 70% {
                transform: translate3d(-4px, 0, 0);
              }

              40%, 60% {
                transform: translate3d(4px, 0, 0);
              }
        }
        </style>

    <!-- Meta -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
    <header>
        <div class="container">
            <h1>BUBLESORT</h1>
        </div>
    </header>
    <!-- Mensaje de alerta. -->

    <div class="alert alert-warning alert-dismissable" id="alert">
        <!--<button type="button" class="close" data-dismiss="alert">&times;</button>
        <strong>¡Cuidado!</strong> Es muy importante que leas este mensaje de alerta.-->
    </div>
    <div class="container">
        <div class="row">
            <form class="form-inline">
                <div class="form-group">
                   <div class="col-xs-3">
                    <!--step nos deja poner el incremento del numero, max y min son los numeros maximos que se pueden poner-->
                        <input type="number" class="form-control" step="1" id="numeroInput" min="0" max="10">
                    </div>
                </div>
                <div class="col-xs-9">
                    <button type="button" class="btn btn-default" onclick="nuevoNumero()">Añadir Número</button>
                </div>
            </form>
        </div>
        <div class="row">
            <div class="panel panel-danger">
                <div class="panel-heading">Números Desordenados</div>
                <div class="panel-body" id="cntNumDes">


                    <!--<span class="box">7<span class="close">x</span></span>-->

                </div>
            </div>
        </div>
        <div class="row">
            <div class="panel panel-success">
                <div class="panel-heading">Números Ordenados</div>
                <div class="panel-body" id="cntNumOrd">


                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-9">
                <button type="button" class="btn btn-default btn-lg btn-block" onclick="pintarOrdenados()">Ordenar</button>
                <!--crea un botón en bloque. https://getbootstrap.com/docs/3.3/css/#buttons-->
                <!-- btn: clase, btn_default es el color, btn-lg: el tamño, btn-block que es de bloque-->
            </div>

                <button type="button" class="btn btn-danger btn-lg btn-block" onclick="reset()">Borrar</button>

        </div>
     </div>

    <!-- *****************************JAVASCRIPT**************************************************************** -->
     <script>
        //variables globales
        var numeroInput = document.getElementById("numeroInput");
        var cntNumDes = document.getElementById("cntNumDes");
        var cntNumOrd = document.getElementById("cntNumOrd");
        var spanNumero = '<span class="box">##numero##<span class="close">x</span></span>';
        var aDesordenado = []; // Array con numeros desordenados
        var aOrdenado = [];

         function reset(){
             cntNumDes.innerHTML ="";
             cntNumOrd.innerHTML = "";
             aDesordenado =[];
             aOrdenado =[];
             document.getElementById("alert").innerHTML ="";
             numeroInput.focus();
         }
         /**
         * Muestar una alerta de bootstrap
         * id= identificador del elemento donde lo insertaremos con HTML
         * texto = texto a mostrar en la alerta
         * clase = color de la alerta
         */

         function showAlert (id, texto, clase){
             var alerta = '<div class="alert alert-##clase## alert-dismissable"><button type="button" class="close" data-dismiss="alert">&times;</button>##texto##.</div>';
             var contenedor = document.getElementById(id);
             contenedor.innerHTML = "";
             contenedor.innerHTML = alerta;
             contenedor.innerHTML = contenedor.innerHTML.replace('##texto##', texto);
             contenedor.innerHTML =contenedor.innerHTML.replace ('##clase##',clase);

         }

         /** Validar que la entrada sea: <10 o no sea vacío.
         *Retorna mensaje de error y un return
         *
         */

         function validarEntradaNumeros ( numero ){

         }

         function validarNumerosOrdenados (){
             if(aDesordenado.length<2){
                 showAlert("msg", "warning", "Introduce al menos 2 números.")
                 return false;
             }

             return true;
         }

         /**
         *  recoger numero del input y meterlo en  div#cntNumDes
         */
        function nuevoNumero() {

            var num = numeroImput.value;
            console.debug("Añadir nuevo numero %s", numeroInput.value);

            if(validarEntradaNumeros(num)){

            }
               //añadar numero
                cntNumDes.innerHTML += spanNumero.replace('##numero##', numeroInput.value);
                aDesordenado.push(numeroInput.value);
                //limpiar input y poner foco
                numeroInput.value = "";
                numeroInput.focus();
       }
        /**
         *  Ordena de menor a mayor el array pasado por parametro
         */
        function ordernar(arr) {
            var len = arr.length;
            console.debug("array desordenado " + arr );
            for (var i = 0; i < len; i++) {
                for (var j = 0; j < len - i - 1; j++) {
                    if (arr[j] > arr[j + 1]) {
                        // cambio
                        var temp = arr[j];
                        arr[j] = arr[j + 1];
                        arr[j + 1] = temp;
                    }
                }
            }
            console.debug("array ordenado " + arr );
            return arr;
        }

        function pintarOrdenados() {
            console.debug("pintarOrdenados");
            aOrdenado = ordernar(aDesordenado);
            cntNumOrd.innerHTML = "";
            for (i = 0; i < aOrdenado.length; i++) {
                cntNumOrd.innerHTML += spanNumero.replace('##numero##', aOrdenado[i]);
            }
        }
    </script>

    <!--**********************************************************Bootstrap instrucciones *****************************************/ -->
    <!-- jquery -->
    <script src="http://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</body>

</html>
